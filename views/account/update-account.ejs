<% if (title) { %>
    <h1><%= title %></h1>
  <% } else {
    res.redirect('/')
} %>

<p><%- messages() %></p>

<h2>Update Account Data</h2>

<div class="account-page">

  <form action="/account/update-account" method="post">

    <input type="hidden" name="form_type" value="info">
    <input type="hidden" name="account_id" value="<%= account_id %>">

    <fieldset>
      <label for="account_firstname">First Name<input type="text" name="account_firstname" id="account_firstname" required value="<%= typeof account_firstname !== 'undefined' ? account_firstname : '' %>"></label>  
    </fieldset>

    <fieldset>
      <label for="account_lastname">Last Name<input type="text" name="account_lastname" id="account_lastname" required value="<%= typeof account_lastname !== 'undefined' ? account_lastname : '' %>"></label>  
    </fieldset>

    <fieldset>
      <label for="account_email">Email<input type="email" name="account_email" id="account_email" required value="<%= typeof account_email !== 'undefined' ? account_email : '' %>"></label>  
    </fieldset>
    
    <button>Update Account Information</button>  

  </form>

</div>

<h2>Update Account Password</h2>

<div class="account-page">

  <form action="/account/update-account" method="post">

    <input type="hidden" name="form_type" value="password">
    <input type="hidden" name="account_id" value="<%= account_id %>">

    <fieldset>
      <label for="account_password">Password <span>(Passwords must be at least 12 characters and contain at least 1 number, 1 capital letter and 1 special character)</span> <input type="password" name="account_password" id="account_password" required pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"><button type="button" id="togglePassword">üëÅ</button></label>
    </fieldset>

    <button>Update Account Password</button>  

  </form>

</div>

<script>
  document.getElementById("togglePassword").addEventListener("click", function() {
  let passwordInput = document.getElementById("account_password");
  if (passwordInput.type === "password") {
    passwordInput.type = "text";
  } else {
    passwordInput.type = "password";
  }
});
</script>